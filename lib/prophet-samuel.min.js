!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("prophet-samuel",[],r):"object"==typeof exports?exports["prophet-samuel"]=r():t["prophet-samuel"]=r()}(this,function(){return function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var e={};return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=11)}([function(t,r,e){"use strict";var n="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i="undefined"!=typeof global&&global,s=n||i||o;r.root=s,function(){if(!s)throw new Error("RxJS could not find any global context (window, self, global)")}()},function(t,r,e){"use strict";function n(t){return t.reduce(function(t,r){return t.concat(r instanceof f.UnsubscriptionError?r.errors:r)},[])}var o=e(16),i=e(17),s=e(6),c=e(18),u=e(7),f=e(19),a=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,r=!1;if(!this.closed){var e=this,a=e._parent,p=e._parents,h=e._unsubscribe,l=e._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var b=-1,y=p?p.length:0;a;)a.remove(this),a=++b<y&&p[b]||null;if(s.isFunction(h)){var d=c.tryCatch(h).call(this);d===u.errorObject&&(r=!0,t=t||(u.errorObject.e instanceof f.UnsubscriptionError?n(u.errorObject.e.errors):[u.errorObject.e]))}if(o.isArray(l))for(b=-1,y=l.length;++b<y;){var v=l[b];if(i.isObject(v)){var d=c.tryCatch(v.unsubscribe).call(v);if(d===u.errorObject){r=!0,t=t||[];var w=u.errorObject.e;w instanceof f.UnsubscriptionError?t=t.concat(n(w.errors)):t.push(w)}}}if(r)throw new f.UnsubscriptionError(t)}},t.prototype.add=function(r){if(!r||r===t.EMPTY)return t.EMPTY;if(r===this)return this;var e=r;switch(typeof r){case"function":e=new t(r);case"object":if(e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if("function"!=typeof e._addParent){var n=e;e=new t,e._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(e),e._addParent(this),e},t.prototype.remove=function(t){var r=this._subscriptions;if(r){var e=r.indexOf(t);-1!==e&&r.splice(e,1)}},t.prototype._addParent=function(t){var r=this,e=r._parent,n=r._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();r.Subscription=a},function(t,r,e){"use strict";var n=e(0),o=n.root.Symbol;r.rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber",r.$$rxSubscriber=r.rxSubscriber},function(t,r){t.exports=require("fs")},function(t,r){t.exports=require("path")},function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=e(6),i=e(1),s=e(8),c=e(2),u=function(t){function r(e,n,o){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!e){this.destination=s.empty;break}if("object"==typeof e){e instanceof r?(this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,n,o)}}return n(r,t),r.prototype[c.rxSubscriber]=function(){return this},r.create=function(t,e,n){var o=new r(t,e,n);return o.syncErrorThrowable=!1,o},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this,r=t._parent,e=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=r,this._parents=e,this},r}(i.Subscription);r.Subscriber=u;var f=function(t){function r(r,e,n,i){t.call(this),this._parentSubscriber=r;var c,u=this;o.isFunction(e)?c=e:e&&(c=e.next,n=e.error,i=e.complete,e!==s.empty&&(u=Object.create(e),o.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=c,this._error=n,this._complete=i}return n(r,t),r.prototype.next=function(t){if(!this.isStopped&&this._next){var r=this._parentSubscriber;r.syncErrorThrowable?this.__tryOrSetError(r,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},r.prototype.error=function(t){if(!this.isStopped){var r=this._parentSubscriber;if(this._error)r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!r.syncErrorThrowable)throw this.unsubscribe(),t;r.syncErrorValue=t,r.syncErrorThrown=!0,this.unsubscribe()}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var e=function(){return t._complete.call(t._context)};r.syncErrorThrowable?(this.__tryOrSetError(r,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,r){try{t.call(this._context,r)}catch(t){throw this.unsubscribe(),t}},r.prototype.__tryOrSetError=function(t,r,e){try{r.call(this._context,e)}catch(r){return t.syncErrorValue=r,t.syncErrorThrown=!0,!0}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(u)},function(t,r,e){"use strict";function n(t){return"function"==typeof t}r.isFunction=n},function(t,r,e){"use strict";r.errorObject={e:{}}},function(t,r,e){"use strict";r.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},function(t,r){t.exports=require("os")},function(t,r,e){var n=e(3),o=e(4),i={nil:function(t){return null===t||void 0===t},array:function(t){return Array.isArray(t)},buffer:function(t){return Buffer.isBuffer(t)},regExp:function(t){return"[object RegExp]"==Object.prototype.toString.call(t)},string:function(t){return"string"==typeof t},func:function(t){return"function"==typeof t},exists:function(t){return n.existsSync(t)},file:function(t){return!!i.exists(t)&&n.statSync(t).isFile()},sameFile:function(t,r){return o.resolve(t)==o.resolve(r)},directory:function(t){return!!i.exists(t)&&n.statSync(t).isDirectory()},symbolicLink:function(t){return!!i.exists(t)&&n.lstatSync(t).isSymbolicLink()}};t.exports=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Samuel=void 0;var n=e(12),o=function(t){return t&&t.__esModule?t:{default:t}}(n);r.Samuel=o.default},function(t,r,e){"use strict";function n(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),i=e(13),s=e(25),c=function(t){return t&&t.__esModule?t:{default:t}}(s),u={persistent:!0,recursive:!1,encoding:"utf8"},f=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Subject;n(this,t),this._subject=r,this._observable$=this._subject.asObservable()}return o(t,[{key:"_startListen",value:function(t,r){var e=this;console.log("Start listening on:",t),(0,c.default)(t,r,function(t,r){e._subject.next({event:t,name:r})})}},{key:"listenOn",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return this._startListen(t,r),this._observable$}}]),t}();r.default=f,t.exports=r.default},function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=e(14),i=e(5),s=e(1),c=e(23),u=e(24),f=e(2),a=function(t){function r(r){t.call(this,r),this.destination=r}return n(r,t),r}(i.Subscriber);r.SubjectSubscriber=a;var p=function(t){function r(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(r,t),r.prototype[f.rxSubscriber]=function(){return new a(this)},r.prototype.lift=function(t){var r=new h(this,this);return r.operator=t,r},r.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].next(t)},r.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var r=this.observers,e=r.length,n=r.slice(),o=0;o<e;o++)n[o].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,r=t.length,e=t.slice(),n=0;n<r;n++)e[n].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(r){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},r.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},r.prototype.asObservable=function(){var t=new o.Observable;return t.source=this,t},r.create=function(t,r){return new h(t,r)},r}(o.Observable);r.Subject=p;var h=function(t){function r(r,e){t.call(this),this.destination=r,this.source=e}return n(r,t),r.prototype.next=function(t){var r=this.destination;r&&r.next&&r.next(t)},r.prototype.error=function(t){var r=this.destination;r&&r.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},r}(p);r.AnonymousSubject=h},function(t,r,e){"use strict";var n=e(0),o=e(15),i=e(20),s=e(21),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(t,r,e){var n=this.operator,i=o.toSubscriber(t,r,e);if(n?n.call(i,this.source):i.add(this.source?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.syncErrorThrown=!0,t.syncErrorValue=r,t.error(r)}},t.prototype.forEach=function(t,r){var e=this;if(r||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?r=n.root.Rx.config.Promise:n.root.Promise&&(r=n.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(r,n){var o;o=e.subscribe(function(r){if(o)try{t(r)}catch(t){n(t),o.unsubscribe()}else t(r)},n,r)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,e){var n;r.subscribe(function(t){return n=t},function(t){return e(t)},function(){return t(n)})})},t.create=function(r){return new t(r)},t}();r.Observable=c},function(t,r,e){"use strict";function n(t,r,e){if(t){if(t instanceof o.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||r||e?new o.Subscriber(t,r,e):new o.Subscriber(s.empty)}var o=e(5),i=e(2),s=e(8);r.toSubscriber=n},function(t,r,e){"use strict";r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,r,e){"use strict";function n(t){return null!=t&&"object"==typeof t}r.isObject=n},function(t,r,e){"use strict";function n(){try{return i.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function o(t){return i=t,n}var i,s=e(7);r.tryCatch=o},function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=function(t){function r(r){t.call(this),this.errors=r;var e=Error.call(this,r?r.length+" errors occurred during unsubscription:\n  "+r.map(function(t,r){return r+1+") "+t.toString()}).join("\n  "):"");this.name=e.name="UnsubscriptionError",this.stack=e.stack,this.message=e.message}return n(r,t),r}(Error);r.UnsubscriptionError=o},function(t,r,e){"use strict";function n(t){var r,e=t.Symbol;return"function"==typeof e?e.observable?r=e.observable:(r=e("observable"),e.observable=r):r="@@observable",r}var o=e(0);r.getSymbolObservable=n,r.observable=n(o.root),r.$$observable=r.observable},function(t,r,e){"use strict";function n(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];return o(t)}function o(t){return t?1===t.length?t[0]:function(r){return t.reduce(function(t,r){return r(t)},r)}:i.noop}var i=e(22);r.pipe=n,r.pipeFromArray=o},function(t,r,e){"use strict";function n(){}r.noop=n},function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=function(t){function r(){var r=t.call(this,"object unsubscribed");this.name=r.name="ObjectUnsubscribedError",this.stack=r.stack,this.message=r.message}return n(r,t),r}(Error);r.ObjectUnsubscribedError=o},function(t,r,e){"use strict";var n=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},o=e(1),i=function(t){function r(r,e){t.call(this),this.subject=r,this.subscriber=e,this.closed=!1}return n(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,r=t.observers;if(this.subject=null,r&&0!==r.length&&!t.isStopped&&!t.closed){var e=r.indexOf(this.subscriber);-1!==e&&r.splice(e,1)}}},r}(o.Subscription);r.SubjectSubscription=i},function(t,r,e){t.exports=e(26)},function(t,r,e){function n(t,r){return E.array(t)?t:[].slice.call(t,r||0)}function o(t){return n(t).some(function(t,r,e){return e.indexOf(t)!==r})}function i(t){return n(t).filter(function(t,r,e){return e.indexOf(t)===r})}function s(t){return Object.assign?Object.assign.apply(Object,arguments):n(arguments,1).reduce(function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t},t)}function c(t){if(t&&"buffer"!=t&&!Buffer.isEncoding(t))throw new Error("Unknown encoding: "+t)}function u(t){try{return Buffer.from(t,"utf8")}catch(r){return new Buffer(t,"utf8")}}function f(t){return function(r,e){E.func(t)?t(r)&&e():E.regExp(t)?t.test(r)&&e():e()}}function a(t){return n(t).map(function(t){return E.exists(t)?[O,t]:[j,t]})}function p(t){if(o(t.map(function(t){return t.replace(/^[~#]+|[~#]+$/,"")})))return a(i(t.filter(function(t){return E.exists(t)})));return a(t)}function h(t,r){function e(){p(o).forEach(function(r){r[1]=u(r[1]),"buffer"!=s&&(r[1]=r[1].toString(s)),t.apply(null,r)}),n=null,o=[]}var n,o=[],i=t.info,s=i.options.encoding;return function(t,s){E.nil(s)&&(s=""),o.push(m.join(i.fpath,s)),n||(n=setTimeout(e,r||200))}}function l(){var t={};return function(r){return function(e,n){t[e+n]=[e,n],setTimeout(function(){Object.keys(t).forEach(function(e){r.apply(null,t[e])}),t={}})}}}function b(t,r){E.directory(t)&&w.readdir(t,function(e,n){if(e){if(!/^(EPERM|EACCES)$/.test(e.code))throw e;console.warn("Warning: Cannot access %s.",t)}else E.array(n)&&n.forEach(function(e){var n=m.join(t,e);E.directory(n)&&r(n)})})}function y(){g.EventEmitter.call(this),this.watchers={}}function d(t){var r=new y,e=l();return t.forEach(function(t){t.on("change",e(function(t,e){r.emit("change",t,e)})),t.on("error",function(t){r.emit("error",t)})}),r.close=function(){t.forEach(function(t){t.close()})},r.expose()}function v(t,r,e){var n=new y;if(E.buffer(t)&&(t=t.toString()),E.array(t)){var o=l();return d(i(t).map(function(t){var n=v(t,r);return e&&n.on("change",o(e)),n}))}return E.exists(t)||n.emit("error",new Error(t+" does not exist.")),E.string(r)&&(r={encoding:r}),E.func(r)&&(e=r,r={}),arguments.length<2&&(r={}),r.encoding?c(r.encoding):r.encoding="utf8",E.file(t)?n.watchFile(t,r,e):E.directory(t)&&n.watchDirectory(t,r,e),n.expose()}var w=e(3),m=e(4),_=e(9),S=e(27),g=e(28),x=e(29),E=e(10),O="update",j="remove",P=S.deprecate(function(){},"(node-watch) First param in callback function  is replaced with event name since 0.5.0, use  `(evt, filename) => {}` if you want to get the filename");S.inherits(y,g.EventEmitter),y.prototype.expose=function(){var t=this;return["on","emit","close","isClosed","listeners","once","setMaxListeners","getMaxListeners"].reduce(function(r,e){return r[e]=function(){return t[e].apply(t,arguments)},r},{})},y.prototype.isClosed=function(){return!Object.keys(this.watchers).length},y.prototype.close=function(t){var r=this;if(t){var e=this.watchers[t];e&&e.close&&(e.close(),delete r.watchers[t]),b(t,function(t){r.close(t)})}else{var r=this;Object.keys(r.watchers).forEach(function(t){var e=r.watchers[t];e&&e.close&&e.close()}),this.watchers={}}},y.prototype.add=function(t,r){var e=this;r=r||{fpath:""};var n=m.resolve(r.fpath);this.watchers[n]=t;var o=function(t,n){if(r.options.recursive&&x(function(o){if(!o){var i=m.resolve(n);if(t==j)e.close(i);else if(E.directory(n)&&!e.watchers[i]){var s=f(r.options.filter);s(n,function(){e.watchDirectory(n,r.options)})}}}),r.compareName)r.compareName(n)&&e.emit("change",t,n);else{f(r.options.filter)(n,function(){e.flag?e.flag="":e.emit("change",t,n)})}};o.info=r,t.on("error",function(o){"win32"==_.platform()&&"EPERM"==o.code?(t.emit("change",j,r.fpath&&""),e.flag="windows-error",e.close(n)):e.emit("error",o)}),t.on("change",h(o))},y.prototype.watchFile=function(t,r,e){var n=m.join(t,"../"),o=s({},r,{recursive:!1,filter:null,encoding:"utf8"}),i=w.watch(n,o);this.add(i,{type:"file",fpath:n,options:s({},o,{encoding:r.encoding}),compareName:function(r){return E.sameFile(r,t)}}),E.func(e)&&(1==e.length&&P(),this.on("change",e))},y.prototype.watchDirectory=function(t,r,e){var n=this;x(function(o){r.recursive=!!r.recursive;var i=s({},r,{encoding:"utf8"});o||s(i,{recursive:!1});var c=w.watch(t,i);n.add(c,{type:"dir",fpath:t,options:r}),E.func(e)&&(1==e.length&&P(),n.on("change",e)),r.recursive&&!o&&b(t,function(t){f(r.filter)(t,function(){n.watchDirectory(t,r)})})})},t.exports=v},function(t,r){t.exports=require("util")},function(t,r){t.exports=require("events")},function(t,r,e){function n(){this.stack=[]}var o,i=e(3),s=e(9),c=e(4),u=e(10),f=s.tmpdir&&s.tmpdir()||process.env.TMPDIR||process.env.TEMP||process.cwd();n.prototype={create:function(t,r){var e=c.join(r,"node-watch-"+Math.random().toString(16).substr(2));return this.stack.push({name:e,type:t}),e},write:function(){for(var t=0;t<arguments.length;++t)i.writeFileSync(arguments[t]," ")},mkdir:function(){for(var t=0;t<arguments.length;++t)i.mkdirSync(arguments[t])},cleanup:function(t){try{for(var r;r=this.stack.pop();){var e=r.type,n=r.name;"file"==e&&u.file(n)?i.unlinkSync(n):"dir"==e&&u.directory(n)&&i.rmdirSync(n)}}finally{u.func(t)&&t()}}};var a=!1;t.exports=function t(r){if(!u.func(r))return!1;if(void 0!==o)return r(o);if(a)return setTimeout(function(){t(r)},300);a=!0;var e=new n,s=e.create("dir",f),p=e.create("dir",s),h=e.create("file",p);e.mkdir(s,p);var l={recursive:!0},b=i.watch(s,l),y=setTimeout(function(){b.close(),e.cleanup(function(){r(o=!1)})},200);b.on("change",function(t,n){c.basename(h)==c.basename(n)&&(b.close(),clearTimeout(y),e.cleanup(function(){r(o=!0)}))}),e.write(h)}}])});